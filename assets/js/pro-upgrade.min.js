(t=>{window.WSAProUpgrade={init:function(){this.bindEvents(),this.trackFeatureAttempts(),this.handleProNotices()},bindEvents:function(){t(document).on("click",".wsa-pro-feature-trigger",this.showUpgradeModal),t(document).on("click",".wsa-modal-close",this.hideUpgradeModal),t(document).on("click",".wsa-upgrade-modal",function(a){a.target===this&&WSAProUpgrade.hideUpgradeModal()}),t(document).on("click",".wsa-upgrade-btn",this.trackUpgradeClick),t(document).on("click",".wsa-upgrade-link",this.trackUpgradeClick),t(document).on("click",".wsa-feature-disabled",this.handleDisabledFeatureClick),t(document).on("click",".wsa-pro-notice .notice-dismiss",this.dismissProNotice),t(document).keyup(function(a){27===a.keyCode&&WSAProUpgrade.hideUpgradeModal()})},showUpgradeModal:function(a){a.preventDefault();var a=t(this).data("feature")||"general",e="#wsa-upgrade-modal-"+a;0===t(e).length&&(WSAProUpgrade.createGenericModal(a),e="#wsa-upgrade-modal-generic"),t(e).fadeIn(300),t("body").addClass("wsa-modal-open"),WSAProUpgrade.trackEvent("modal_view",a)},hideUpgradeModal:function(){t(".wsa-upgrade-modal").fadeOut(300),t("body").removeClass("wsa-modal-open")},createGenericModal:function(a){a=`
                <div class="wsa-upgrade-modal" id="wsa-upgrade-modal-generic">
                    <div class="wsa-modal-content">
                        <div class="wsa-modal-header">
                            <span class="wsa-pro-badge-large">ðŸ”’ PRO FEATURE</span>
                            <button class="wsa-modal-close">&times;</button>
                        </div>
                        <div class="wsa-modal-body">
                            <h3>${a.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())} is a Pro Feature</h3>
                            <p>Unlock advanced capabilities and take your site analysis to the next level with WP SiteAdvisor Pro.</p>
                            <div class="wsa-feature-benefit">
                                <span class="dashicons dashicons-yes-alt"></span>
                                Get instant access to all Pro features with no setup required
                            </div>
                        </div>
                        <div class="wsa-modal-footer">
                            <a href="${this.getUpgradeUrl(a)}" class="button button-primary button-hero" target="_blank">
                                Upgrade to Pro Now
                            </a>
                            <button class="button wsa-modal-close">Maybe Later</button>
                        </div>
                    </div>
                </div>
            `;t("#wsa-upgrade-modal-generic").remove(),t("body").append(a)},handleDisabledFeatureClick:function(a){a.preventDefault(),a.stopPropagation();a=t(this).data("feature")||t(this).closest("[data-feature]").data("feature")||"general";WSAProUpgrade.showUpgradeModal.call(t("<div>").data("feature",a)[0]),WSAProUpgrade.trackFeatureAttempt(a)},trackFeatureAttempt:function(a){t.post(ajaxurl,{action:"wsa_track_pro_attempt",feature:a,nonce:wsa_admin_ajax.nonce}),this.trackEvent("feature_attempt",a)},trackUpgradeClick:function(a){var e=t(this).data("feature")||t(this).closest("[data-feature]").data("feature")||WSAProUpgrade.getFeatureFromUrl(this.href)||"general";return WSAProUpgrade.trackEvent("upgrade_click",e),!0},getFeatureFromUrl:function(a){a=a.match(/[?&]feature=([^&]+)/);return a?a[1]:null},getUpgradeUrl:function(a){return"https://wpsiteadvisor.com/upgrade?"+new URLSearchParams({feature:a||"general",utm_source:"plugin",utm_medium:"upgrade_modal",utm_campaign:"wp_siteadvisor_free"}).toString()},trackEvent:function(a,e){var t=JSON.parse(localStorage.getItem("wsa_pro_events")||"[]");t.push({action:a,feature:e,timestamp:Date.now(),page:window.location.pathname}),50<t.length&&(t=t.slice(-50)),localStorage.setItem("wsa_pro_events",JSON.stringify(t))},trackFeatureAttempts:function(){var a=new URLSearchParams(window.location.search).get("attempted_feature");a&&setTimeout(function(){WSAProUpgrade.showUpgradeModal.call(t("<div>").data("feature",a)[0])},1e3)},dismissProNotice:function(){var a=t(this).closest(".wsa-pro-notice").data("feature");a&&(WSAProUpgrade.trackEvent("notice_dismiss",a),t.post(ajaxurl,{action:"wsa_dismiss_pro_notice",feature:a,nonce:wsa_admin_ajax.nonce}))},handleProNotices:function(){setTimeout(function(){t(".wsa-pro-notice").fadeOut()},3e4)},showProFeatures:function(){t(".wsa-pro-showcase").slideDown()},hideProFeatures:function(){t(".wsa-pro-showcase").slideUp()},addProOverlay:function(a,e){t(a).addClass("wsa-feature-disabled").attr("data-feature",e)},removeProOverlay:function(a){t(a).removeClass("wsa-feature-disabled").removeAttr("data-feature")},isProActive:function(){return!0===window.wsa_pro_active},showProRequiredMessage:function(a,e){a=`
                <div class="wsa-pro-required-message">
                    <div class="wsa-pro-icon">ðŸ¤–</div>
                    <div class="wsa-pro-text">
                        <h4>AI Feature Locked</h4>
                        <p>Unlock this AI-powered feature and transform your WordPress management with intelligent automation.</p>
                        <a href="${this.getUpgradeUrl(a)}" class="button button-primary" target="_blank">
                            Activate AI Features
                        </a>
                    </div>
                </div>
            `;t(e).html(a)},animateUpgradeButtons:function(){t(".wsa-upgrade-btn").each(function(a){t(this).delay(100*a).queue(function(){t(this).addClass("wsa-animate-in").dequeue()})})}},window.WSAProFeatures={init:function(){this.checkAIAnalysis(),this.checkVulnerabilityScanning(),this.checkAdvancedReporting(),this.checkWhiteLabel()},checkAIAnalysis:function(){WSAProUpgrade.isProActive()||(t(".wsa-ai-analysis-btn").each(function(){t(this).prop("disabled",!0).text("ðŸ”’ AI Analysis (Pro)").addClass("wsa-pro-feature-trigger").attr("data-feature","ai_analysis")}),WSAProUpgrade.addProOverlay(".wsa-ai-analysis-section","ai_analysis"))},checkVulnerabilityScanning:function(){WSAProUpgrade.isProActive()||(t(".wsa-vulnerability-scan-btn").each(function(){t(this).prop("disabled",!0).text("ðŸ”’ Advanced Scan (Pro)").addClass("wsa-pro-feature-trigger").attr("data-feature","vulnerability_scan")}),t(".wsa-advanced-vulnerability-section").each(function(){WSAProUpgrade.showProRequiredMessage("vulnerability_scan",this)}))},checkAdvancedReporting:function(){WSAProUpgrade.isProActive()||(t(".wsa-advanced-report-btn").prop("disabled",!0).text("ðŸ”’ Advanced Reports (Pro)").addClass("wsa-pro-feature-trigger").attr("data-feature","advanced_reporting"),WSAProUpgrade.addProOverlay(".wsa-advanced-reports-section","advanced_reporting"))},checkWhiteLabel:function(){WSAProUpgrade.isProActive()||t(".wsa-white-label-section").each(function(){WSAProUpgrade.showProRequiredMessage("white_label",this)})}},t(document).ready(function(){var a;WSAProUpgrade.init(),WSAProFeatures.init(),"undefined"!=typeof IntersectionObserver&&(a=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&t(a.target).addClass("wsa-animate-in")})}),t(".wsa-pro-showcase, .wsa-upgrade-cta").each(function(){a.observe(this)})),t("#wsa-pro-animations").length||t('<style id="wsa-pro-animations">').text(`
                    .wsa-animate-in {
                        animation: wsaFadeInUp 0.6s ease-out;
                    }
                    
                    @keyframes wsaFadeInUp {
                        from {
                            opacity: 0;
                            transform: translateY(30px);
                        }
                        to {
                            opacity: 1;
                            transform: translateY(0);
                        }
                    }
                    
                    .wsa-modal-open {
                        overflow: hidden;
                    }
                    
                    .wsa-pro-required-message {
                        display: flex;
                        align-items: center;
                        padding: 20px;
                        background: #f8f9fa;
                        border: 1px solid #dee2e6;
                        border-radius: 8px;
                        margin: 20px 0;
                    }
                    
                    .wsa-pro-icon {
                        font-size: 48px;
                        margin-right: 20px;
                        opacity: 0.7;
                    }
                    
                    .wsa-pro-text h4 {
                        margin: 0 0 8px 0;
                        color: #333;
                    }
                    
                    .wsa-pro-text p {
                        margin: 0 0 15px 0;
                        color: #666;
                    }
                `).appendTo("head")})})(jQuery);